<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-KJHZ868TNQ"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-KJHZ868TNQ');
	</script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Using SVG in Create-React-App (color/text manipulation, download as png) - Koowoy Devs</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-KJHZ868TNQ', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Koowoy Devs" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Koowoy Devs</div>
					<div class="logo__tagline">Koowoy Develops Yet Again Today</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Using SVG in Create-React-App (color/text manipulation, download as png)</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">Koowoy</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2021-07-08T13:39:15&#43;09:00">2021-07-08</time></div></div>
		</header><div class="content post__content clearfix">
			<h1 id="introduction">Introduction</h1>
<p>I was asked to build a small app that takes in user input and create a downloadable image using those inputs. The user inputs their name and three colors (using html color picker) and the result image renders according to those inputs.</p>
<h1 id="svg">SVG</h1>
<p>After researching for different ways to manipulate images, I came across &lsquo;svg&rsquo;. Svg stands for &lsquo;scalable vector images&rsquo;, and put short, instead of saving image pixel by pixel as in other image files, svg saves &lsquo;paths&rsquo; of the image and &lsquo;draw&rsquo; this paths when called. More to the introduction to svg <a href="https://developer.mozilla.org/ko/docs/Web/SVG/Tutorial/Introduction">here</a>.</p>
<p>Below is a example of a svg image that I used in this app.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-XML" data-lang="XML"><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;title&gt;</span>Energy Ball<span style="color:#f92672">&lt;/title&gt;</span>
    <span style="color:#f92672">&lt;g&gt;</span>
        <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;220&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;220&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;outer&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;#b6f4f4&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;170&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;170&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;middle&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;#d2f3f2&#34;</span><span style="color:#f92672">&gt;</span> 
        <span style="color:#f92672">&lt;ellipse</span> <span style="color:#a6e22e">ry=</span><span style="color:#e6db74">&#34;120&#34;</span> <span style="color:#a6e22e">rx=</span><span style="color:#e6db74">&#34;120&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;inner&#34;</span> <span style="color:#a6e22e">cy=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">cx=</span><span style="color:#e6db74">&#34;250&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;#ffffff&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;/g&gt;</span>
<span style="color:#f92672">&lt;/svg&gt;</span>
</code></pre></div><h2 id="the-upsides">The upsides</h2>
<h3 id="1-easy-to-manipulate-features-using-css-and-javascript">1. Easy to manipulate features using css and javascript</h3>
<p>Svg is written in XML format, meaning that contents of svg can be reached and changed easily with css and js, just the same way used for html. For instance, changing the fill color of the outer ellipse of the above example can be done easily done by javascript as below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JS" data-lang="JS"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">circle</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;#outer&#39;</span>);
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#ffffff&#34;</span>

<span style="color:#a6e22e">circle</span>.<span style="color:#a6e22e">setAttribute</span>(<span style="color:#e6db74">&#34;fill&#34;</span>, <span style="color:#a6e22e">color</span>);
</code></pre></div><h3 id="2-small-in-size">2. Small in size</h3>
<p>Unlike image files that take up lots of memory, size of svg is far smaller and there fore much lighter to use and manipulate.</p>
<h2 id="the-downsides">The downsides</h2>
<h3 id="1-not-user-friendly">1. Not user friendly</h3>
<p>As a regular user of a web page, when you provide a downloadable image as a svg file format, which probably opens with a web browser and does not function as the same way as other image file formats, it wouldn&rsquo;t mean much to them. This means when the user downloads an image, the svg image would have to be converted into a png or jpg image and then provided to the user. After working to solve this for a few days, this isn&rsquo;t always easy as it sounds.</p>
<h3 id="2-code-can-ge-messy">2. Code can ge messy.</h3>
<p>I&rsquo;m not really sure if I mastered the concept of svg, I could write a cleaner code, for instance by importing the image as a component in react, but at this stage and at this level, for the svg to work perfectly, I added most of the svg directly into my html or react component, which made the code look a lot messier than it actually should be.</p>
<h1 id="svg-and-react">SVG and React</h1>
<p>After testing out different features of svg in html and vanilla JS stage, I created a react app and implemented it on the app.</p>
<h2 id="state-and-props-for-svg">State and Props for Svg</h2>
<p>Instead of directly changing the features of the svg like on vanillaJS, when using react, these meant-to-be-changed features could be set as JSX variables. These variables follow the state of the app, which is served to the component as a prop. When the user inputs different values using the input tags of html, the state of the app changes, which re-renders the image to follow that state.</p>
<h3 id="the-state-section-of-app-js">The state section of App JS</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">App</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Component</span> {
  <span style="color:#a6e22e">constructor</span>() {
    <span style="color:#66d9ef">super</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">input</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">nameInput</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">colors</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;#b6f4f4&#39;</span>, <span style="color:#e6db74">&#39;#d2f3f2&#39;</span>, <span style="color:#e6db74">&#39;#ffffff&#39;</span>],
      <span style="color:#a6e22e">route</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;start&#39;</span>,
    }
  }
  ...
</code></pre></div><h3 id="changing-the-state-according-to-user-input">Changing the State According to user Input</h3>
<h4 id="function">Function</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#a6e22e">onNameChange</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">event</span>) =&gt; {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setState</span>({<span style="color:#a6e22e">nameInput</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>});
}

<span style="color:#a6e22e">onColorChange</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">event</span>) =&gt; {
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">val</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>;
<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setState</span>((<span style="color:#a6e22e">state</span>) =&gt; {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">colors</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">colors</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">i</span>) =&gt; {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">key</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">i</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">val</span>;
    } <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span>;
    }
    });
    <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">colors</span>, };
})
</code></pre></div><h4 id="providing-props-to-components">Providing Props to Components</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#a6e22e">render</span>() {
    <span style="color:#66d9ef">return</span> (
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;App&#34;</span>&gt;
        { <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">route</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;start&#39;</span> 
            <span style="color:#f92672">?</span> &lt;<span style="color:#f92672">FrontPage</span> <span style="color:#a6e22e">onRouteChange</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onRouteChange</span>}/&gt;
            <span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">route</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;name&#39;</span>
            <span style="color:#f92672">?</span> &lt;<span style="color:#f92672">NameInput</span> <span style="color:#a6e22e">onNameChange</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onNameChange</span>} <span style="color:#a6e22e">onRouteChange</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onRouteChange</span>} /&gt;
            <span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">route</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;color&#39;</span>
            <span style="color:#f92672">?</span> &lt;<span style="color:#f92672">ColorInput</span> <span style="color:#a6e22e">colors</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">colors</span>} <span style="color:#a6e22e">onColorChange</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onColorChange</span>} <span style="color:#a6e22e">onRouteChange</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onRouteChange</span>}/&gt;
            <span style="color:#f92672">:</span> &lt;<span style="color:#f92672">Result</span> <span style="color:#a6e22e">username</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">nameInput</span>} <span style="color:#a6e22e">colors</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">colors</span>}/&gt;
        }
        &lt;/<span style="color:#f92672">div</span>&gt;
    );
}
</code></pre></div><h4 id="example-of-variables-as-attribute-value-in-components">Example of variables as attribute value in components</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#66d9ef">const</span> {<span style="color:#a6e22e">username</span>, <span style="color:#a6e22e">colors</span>} <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">props</span>
<span style="color:#66d9ef">return</span>(
    &lt;<span style="color:#f92672">div</span>&gt;
    ...
        &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;matrix(1 0 0 -1 540 220)&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">colors</span>[<span style="color:#ae81ff">0</span>]} /&gt;
        &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;150&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;matrix(1 0 0 -1 540 220)&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">colors</span>[<span style="color:#ae81ff">1</span>]} /&gt;
        &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;matrix(1 0 0 -1 540 220)&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">colors</span>[<span style="color:#ae81ff">2</span>]} /&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
)

</code></pre></div><h2 id="converting-svg-to-png-and-download">Converting Svg to Png and Download</h2>
<p>After trying out countless different packages and method, the &lsquo;save-svg-as-png&rsquo; package worked for my app (<a href="https://www.npmjs.com/package/save-svg-as-png">npm link</a>). Here&rsquo;s how.</p>
<ol>
<li>import package using require</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./Result.css&#39;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">saveSvgAsPng</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;save-svg-as-png&#39;</span>)
</code></pre></div><ol start="2">
<li>use Ref to reach svg section of the component</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Result</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">Component</span> {
    <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">props</span>) {
        <span style="color:#66d9ef">super</span>(<span style="color:#a6e22e">props</span>);
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">svgRef</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">createRef</span>();
    }
    ...
    &lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">svgRef</span>} <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;resultImage&#39;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;0 0 1080 1080&#39;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;none&#34;</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>&gt;
    ...
</code></pre></div><p>This allows the method of the component to use the svg codes as in querySelector in VanillaJS</p>
<ol start="3">
<li>use the package in function to convert and proceed download</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#a6e22e">onDownloadClick</span> <span style="color:#f92672">=</span> () =&gt; {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">node</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">svgRef</span>.<span style="color:#a6e22e">current</span>;
    <span style="color:#a6e22e">saveSvgAsPng</span>.<span style="color:#66d9ef">default</span>.<span style="color:#a6e22e">saveSvgAsPng</span>(<span style="color:#a6e22e">node</span>,<span style="color:#e6db74">&#39;&#39;</span>)
}

...
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onDownloadClick</span>()}&gt; 
    <span style="color:#a6e22e">Download</span>
&lt;/<span style="color:#f92672">button</span>&gt;
...
</code></pre></div><h2 id="the-entire-flow">The entire flow</h2>
<p><em>Mind that some parts of the code is left out for simplicity sake, thus the code might not work just as below</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JSX" data-lang="JSX"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">saveSvgAsPng</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;save-svg-as-png&#39;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Result</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">Component</span> {
    <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">props</span>) {
        <span style="color:#66d9ef">super</span>(<span style="color:#a6e22e">props</span>);
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">svgRef</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">createRef</span>();
    }

    <span style="color:#a6e22e">onDownloadClick</span> <span style="color:#f92672">=</span> () =&gt; {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">node</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">svgRef</span>.<span style="color:#a6e22e">current</span>;
        <span style="color:#a6e22e">saveSvgAsPng</span>.<span style="color:#66d9ef">default</span>.<span style="color:#a6e22e">saveSvgAsPng</span>(<span style="color:#a6e22e">node</span>,<span style="color:#e6db74">&#39;&#39;</span>)
    }

    <span style="color:#a6e22e">render</span>() {
        <span style="color:#66d9ef">const</span> {<span style="color:#a6e22e">username</span>, <span style="color:#a6e22e">colors</span>} <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">props</span>
        <span style="color:#66d9ef">return</span> (
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;content-area&#39;</span>&gt;
                &lt;<span style="color:#f92672">section</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;svgContainer&#39;</span>&gt;
                    &lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">svgRef</span>} <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;resultImage&#39;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;300&#34;</span> <span style="color:#a6e22e">viewBox</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;0 0 1080 1080&#39;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;none&#34;</span> <span style="color:#a6e22e">xmlns</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span>&gt;
                    &lt;<span style="color:#f92672">g</span> <span style="color:#a6e22e">clipPath</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;url(#clip0)&#34;</span>&gt;
                        &lt;<span style="color:#f92672">rect</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1080&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1080&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#5E2CA5&#34;</span>/&gt;
                        &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;matrix(1 0 0 -1 540 220)&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">colors</span>[<span style="color:#ae81ff">0</span>]} /&gt;
                        &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;150&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;matrix(1 0 0 -1 540 220)&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">colors</span>[<span style="color:#ae81ff">1</span>]} /&gt;
                        &lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;matrix(1 0 0 -1 540 220)&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">colors</span>[<span style="color:#ae81ff">2</span>]} /&gt;
                    &lt;/<span style="color:#f92672">g</span>&gt;
                    &lt;<span style="color:#f92672">defs</span>&gt;
                        &lt;<span style="color:#f92672">clipPath</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;clip0&#34;</span>&gt;
                            &lt;<span style="color:#f92672">rect</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1080&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1080&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>/&gt;
                        &lt;/<span style="color:#f92672">clipPath</span>&gt;
                    &lt;/<span style="color:#f92672">defs</span>&gt;
                &lt;/<span style="color:#f92672">svg</span>&gt;
                &lt;/<span style="color:#f92672">section</span>&gt;
                &lt;<span style="color:#f92672">br</span>/&gt;
                &lt;<span style="color:#f92672">br</span>/&gt;
                &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">onDownloadClick</span>()}&gt;<span style="color:#a6e22e">Download</span>&lt;/<span style="color:#f92672">button</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
        )
    }
}


<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">Result</span>
</code></pre></div><p>Hope this helps someone save bit of time figuring out svg and react.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/react/" rel="tag">React</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/create-react-app/" rel="tag">Create-React-App</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/front-end/" rel="tag">Front-End</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/svg/" rel="tag">svg</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/svg-to-png/" rel="tag">svg to png</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/image-manipulation/" rel="tag">Image Manipulation</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/sidenote/sidenote_21-06-28/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">[Sidenote/JS] Using Stack for Maximum Efficiency</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 Koowoy.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>